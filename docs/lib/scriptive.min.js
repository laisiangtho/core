/*!
    scriptive -- Javascript application service
    Version 1.0.3-2017.04.08
    https://scriptive.github.io/core
*/
!function(t,e,n){"use strict";var i="ontouchstart"in n.documentElement?"touchstart":"click";Object.defineProperty(Object.prototype,"each",{enumerable:!1,value:function(t){return{object:function(e){var n=0,i=Object.keys(e).length;for(var o in e)e.hasOwnProperty(o)&&(n++,t(o,e[o],e,n==i))},array:function(e){for(var n=e.length,i=0;i<n;i++)t(i,e[i],e,i==n-1)}}[this.constructor===Object?"object":"array"](this)}}),Object.defineProperties(Object.prototype,{merge:{value:function(){for(var t,e=arguments,n=0,i=e.length;n<i;n++)if(e[n].isObject())for(var o in e[n])try{t?this.hasOwnProperty(o)?this[o].isArray()||e[n][o].isArray()?this[o]=this[o].merge(e[n][o]):this[o].merge(t,e[n][o]):this[o]=e[n][o]:this[o].isArray()||this[o].isObject()?this[o]=this[o].merge(e[n][o]):this[o]=e[n][o]}catch(t){this[o]=e[n][o]}else 0===n&&(t=e[n]);return this}},hasMethodProperty:{value:function(t){return this.hasOwnProperty(t)&&this.isFunction(t)}},isEmpty:{value:function(){return this.isObject()?0===Object.keys(this).length:this.isArray()?this.length:void 0}},isFunction:{value:function(t){return t?"function"==typeof this[t]:this.constructor===Function}},isNumeric:{value:function(t){return t?this.hasOwnProperty(t)&&!isNaN(parseFloat(this[t]))&&isFinite(this[t]):!isNaN(parseFloat(this))&&isFinite(this)}},isObject:{value:function(){return this.constructor===Object}},isArray:{value:function(){return this.constructor===Array}},count:{value:function(){return Object.keys(this).length}},paramater:{value:function(t){var e=this;return t?t.isArray()||(t=[t]):t=[],t.push(Object.keys(e).reduce(function(t,n){return t.push(n+"="+encodeURIComponent(e[n])),t},[]).join("&")),t.toSentence("/","?")}}}),Object.defineProperties(Array.prototype,{remove:{value:function(){for(var t,e,n=arguments,i=n.length;i&&this.length;)for(t=n[--i];-1!==(e=this.indexOf(t));)this.splice(e,1);return this}},merge:{value:function(t){return this.concat(t).filter(function(t,e,n){return n.indexOf(t)===e})}},unique:{value:function(){return this.filter(function(t,e,n){return n.indexOf(t)===e})}},has:{value:function(t){if(this.indexOf(t)>-1)return t;for(var e=0;e<this.length;e++)if(this[e]==t)return t}},toSentence:{value:function(t,e){return this.length>1?[this.slice(0,-1).join(t||", "),this.slice(-1)[0]].join(e||" & "):this.join()}}}),Object.defineProperties(Element.prototype,{styleDisplay:{value:function(t){return t?(this.style.display=t,this):"none"!==e.getComputedStyle(this,null).getPropertyValue("display")}},toggleDisplay:{value:function(t,e){var n=this.styleDisplay();return n&&"function"==typeof e?e(this):"function"==typeof t&&t(this),this.styleDisplay(n?"none":"block")}},toggleClass:{value:function(t,e,n){return this.classList.toggle(t),this.classList.contains(t)&&"function"==typeof e?e(this):"function"==typeof n&&n(this),this}},removeClass:{value:function(t){return this.classList.remove(t),this}},addClass:{value:function(t){return this.classList.add(t),this}},hasClass:{value:function(t){return this.classList.contains(t)}},removeAttr:{value:function(t){return this.removeAttribute(t),this}},addAttr:{value:function(t,e){return this.setAttribute(t,e),this}},addContent:{value:function(t){return this.innerHTML=t,this}},emptyElement:{value:function(){for(;this.firstChild;)this.removeChild(this.firstChild);return this}},removeElement:{value:function(){var t=this.parentNode;return t.removeChild(this),t}},eventHandler:{value:function(t,e,n){if(this.hasOwnProperty(t))return!0;this.addEventListener(t,e,n),this[t]=!0}},removeHandler:{value:function(t,e,n){this.removeEventListener(t,e,n),delete this[t]}},eventClick:{value:function(t,e){if(this.hasOwnProperty(i))return this;if(/touch/.test(i)){var n=!0;this.addEventListener("touchstart",function(){n=!0},e),this.addEventListener("touchcancel",function(){n=!1},e),this.addEventListener("touchmove",function(){n=!1},e),this.addEventListener("touchend",function(e){n&&t(e)},e)}else this.addEventListener(i,t,e);return this[i]=!0,this}},removeClick:{value:function(t,e){if(this.hasOwnProperty(i)){if(/touch/.test(i)){var n=!0;this.removeEventListener("touchstart",function(){n=!0},e),this.removeEventListener("touchcancel",function(){n=!1},e),this.removeEventListener("touchmove",function(){n=!1},e),this.removeEventListener("touchend",function(e){n&&t(e)},e)}else this.removeEventListener(i,t,e);delete this[i]}return this}}});var o="app",r={i0:function(t){var e=typeof t;if(r.f0.hasOwnProperty(e))return r.f0[e](t)},f0:{object:function(t){return a.merge(t)},string:function(t){return o=t,e[t]=a}},device:{platform:{is:function(t){return-1!==navigator.userAgent.toLowerCase().indexOf(t)},ios:function(){return this.iphone()||this.ipod()||this.ipad()},iphone:function(){return!this.windows()&&this.is("iphone")},ipod:function(){return this.is("ipod")},ipad:function(){return this.is("ipad")},android:function(){return!this.windows()&&this.is("android")},apd:function(){return this.android()&&this.is("mobile")},adt:function(){return this.android()&&!this.is("mobile")},blackberry:function(){return this.is("blackberry")||this.is("bb10")||this.is("rim")},bbp:function(){return this.blackberry()&&!this.is("tablet")},bbt:function(){return this.blackberry()&&this.is("tablet")},windows:function(){return this.is("windows")},wdp:function(){return this.windows()&&this.is("phone")},wdt:function(){return this.windows()&&this.is("touch")&&!this.wdp()},fxos:function(){return(this.is("(mobile;")||this.is("(tablet;"))&&this.is("; rv:")},ffp:function(){return this.fxos()&&this.is("mobile")},fft:function(){return this.fxos()&&this.is("tablet")},meego:function(){return this.is("meego")},cordova:function(){return e.cordova&&"file:"==location.protocol},chrome:function(){return a.config.Browser==a.config.Platform||"chrome"==a.config.Browser},nodeWebkit:function(){return"object"==typeof window.process},mobile:function(){return this.apd()||this.iphone()||this.ipod()||this.wdp()||this.bbp()||this.ffp()||this.meego()},tablet:function(){return this.ipad()||this.adt()||this.bbt()||this.wdt()||this.fft()}},browser:function(){return-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?"opera":-1!=navigator.userAgent.indexOf("Chrome")?"chrome":-1!=navigator.userAgent.indexOf("Safari")?"safari":-1!=navigator.userAgent.indexOf("Firefox")?"firefox":-1!=navigator.userAgent.indexOf("MSIE")||1==!!n.documentMode?"ie":"unknown"},agent:function(t){var e=[],n=[];a.config.Browser=this.browser(),a.config.isCordova=this.platform.cordova(),a.config.isChrome=this.platform.chrome(),a.config.Platform||(a.config.Platform=a.config.DeviceName.web),a.config.Screen||(a.config.Screen=a.config.DeviceName.desktop),this.platform.mobile()?a.config.Screen=a.config.DeviceName.mobile:this.platform.tablet()&&(a.config.Screen=a.config.DeviceName.tablet),this.platform.ios()?a.config.Device=a.config.DeviceName.ios:this.platform.android()?a.config.Device=a.config.DeviceName.android:this.platform.hasMethodProperty(a.config.Device)||(a.config.Device=a.config.DeviceName.defaults),a.config.hasOwnProperty("DeviceTemplate")&&a.config.DeviceTemplate.constructor===Array?a.config.DeviceTemplate.forEach(function(t){a.config.hasOwnProperty(t)&&Config[t].constructor===String?n.push(Config[t]):"string"==typeof t&&n.push(t)}):a.config.Platform==a.config.DeviceName.web?n.push(a.config.DeviceName.defaults,a.config.Screen):n.push(a.config.Device,a.config.Screen),a.config.DeviceTemplate=n,"object"==typeof t&&(a.config.hasOwnProperty("DeviceAgent")&&a.config.DeviceAgent.constructor===Array?a.config.DeviceAgent.forEach(function(t){a.config.hasOwnProperty(t)&&Config[t].constructor===String?e.push(Config[t]):"string"==typeof t&&e.push(t)}):e.push(a.config.Platform,a.config.Screen,a.config.Device));var i=[],o=[];if(e.length)for(var r in e){o.push(e[r]);for(var s in t)t.hasOwnProperty(s)&&t[s].constructor===Array&&t[s].filter(function(t){return t==r}).length&&i.push({type:s,name:o.join(".")})}return i},orientate:function(t){n.querySelector(a.config.Orientation.element)&&(e.addEventListener?e.addEventListener(t,this.orientateClass,!1):e.attachEvent?e.attachEvent(t,this.orientateClass):e[t]=this.orientateClass,this.orientateClass())},orientateClass:function(){n.querySelector(a.config.Orientation.element).setAttribute("class",e.innerHeight<e.innerWidth?a.config.Orientation.landscape:a.config.Orientation.portrait)}},hash:function(){var t,n=a.config.hash,i=e.location.hash.split("?");if(i.length){for(var o=i[0].split("/"),r=0;r<o.length;r++)o[r]&&(0==r?n.page=o[r].replace(/#/,""):n[r]=o[r]);if(i.length>1)for(var s=/([^\?#&=]+)=([^&]*)/g;t=s.exec(i[1]);)n[t[1]]=t[2]}return n},idUnique:function(t){a.config.hasOwnProperty("idUnique")?a.config.idUnique.search(":unique")<0&&(a.config.idUnique=a.config.idUnique+":unique"):"string"==typeof t?t.search(":unique")<0?a.config.idUnique=t+":unique":a.config.idUnique=t:a.config.idUnique=o+":unique"},data:{execute:function(t,e){var n=t.shift();if(this.hasOwnProperty(n)){if(this.isFunction(n))return this[n](e);if(t.length)return r.data.execute.call(this[n],t,e)}return!1},link:function(t){n.querySelectorAll("[0]".replace(0,t)).each(function(e,n){n.styleDisplay()&&n.eventClick(function(){r.data.execute.call(a,n.getAttribute(t).split(" ").filter(function(t){return t}),n)})})},content:function(t){n.querySelectorAll("[0]".replace(0,t)).each(function(e,n){n.styleDisplay()&&r.data.execute.call(a,n.getAttribute(t).split(" ").filter(function(t){return t}),n)})}},meta:{locale:{script:{attr:{src:null},extension:".js",dir:"js/"},link:{attr:{rel:"stylesheet",href:null},extension:".css",dir:"css/"}},oblige:function(t){var e=[];for(var n in t)for(var i in t[n])e.push({type:n,name:t[n][i].toString().replace(" ",".")});return e},append:function(t){delete a.config.Meta.agent,a.config.Meta=this.oblige(a.config.Meta).concat(t),this.attach()},attach:function(){try{var t=this,e=a.config.Meta.shift(),i=e.type,o=(e.dir||t.locale[i].dir)+e.name+t.locale[i].extension,r=n.createElement(i);t.locale[i].attr.each(function(t,e){r[t]=e||o}),r.onerror=function(){t.attach()},r.onload=function(){a.notification(e.name),a.config.Meta.length?t.attach():t.listen()},n.head.appendChild(r)}catch(t){this.listen()}},listen:function(){a.notification("getting Ready..."),a.config.isCordova?n.addEventListener("deviceready",this.initiate,!1):this.initiate()},initiate:function(){r.hash(),a.config.Execute.each(function(t,e){t="object"==typeof e?Object.keys(e)[0]:e,r.data.execute.call(a,t.split(" "),e[t])})}}},a={config:{Meta:{agent:{script:[0,1,2],link:[0,1,2]}},Execute:["initiate"],Handler:i,dataLink:"data-link",dataContent:"data-content",Platform:"web",Screen:"desktop",DeviceName:{desktop:"desktop",tablet:"tablet",mobile:"mobile",ios:"ios",android:"android",defaults:"default",web:"web",app:"app"},Orientation:{landscape:"landscape",portrait:"portrait",element:"html"},hash:{},todo:{},msg:{info:"#msg"},name:"app",version:"1.0.3",build:"1.0.2"},document:function(t){t.hasOwnProperty("config")&&t.config.constructor===Object&&(a.config.merge(t.config),t.config.hasOwnProperty("Meta")&&t.config.Meta.hasOwnProperty("agent")&&(a.config.Meta.agent=t.config.Meta.agent)),n.addEventListener("DOMContentLoaded",function(i){t.hasOwnProperty("ready")&&t.ready.call(a,i),"string"==typeof a.config.msg.info&&(a.config.msg.info=n.querySelector(a.config.msg.info)),r.idUnique(a.config.id),1!=a.config.Orientation.isEmpty()&&r.device.orientate(e.hasOwnProperty.call(e,"onorientationchange")?"orientationchange":"resize"),"object"==typeof a.config.Meta?r.meta.append(r.device.agent(a.config.Meta.agent)):r.meta.listen(),new MutationObserver(function(t){a.dataLink()}).observe(n.body,{attributes:!0,subtree:!0})},!1)},notification:function(){if(null!==a.config.msg.info)return arguments.length>1?a.config.msg.info.setAttribute(arguments[0],arguments[1]):a.config.msg.info.innerHTML=arguments[0],a.config.msg.info},dataLink:function(t){r.data.link(t||a.config.dataLink)},dataContent:function(t){r.data.content(t||a.config.dataContent)},metaLink:function(t){t.each(function(t,i){e[i]=n.querySelector("link[rel=0]".replace(0,i)).getAttribute("href")})},metaContent:function(t){t.each(function(t,i){e[i]=n.querySelector("meta[name=0]".replace(0,i)).getAttribute("content")})},localStorage:{name:{},storage:e.localStorage,select:function(t,e){var e=this.storage.getItem(this.ids(t));try{this.name[t]=e?JSON.parse(e):{}}catch(n){this.name[t]=e}finally{return this}},insert:function(t,e){var n=this.ids(t);return"object"==typeof e?this.storage.setItem(n,JSON.stringify(e)):this.storage.setItem(n,e),this.name[t]=e,this},update:function(t,e){return this.insert(t,e||this.name[t])},delete:function(t){return this.storage.removeItem(this.ids(t)),this},deleteAll:function(t){return this.storage.clear(),this},ids:function(t){return a.config.idUnique.replace(/unique/,t)}},hashChange:function(t){e.addEventListener("hashchange",function(e){"function"==typeof t&&(r.hash(),t(e))},!1)},elementCreate:function(t){return n.createElement(t)},elementSelect:function(t){return n.querySelector(t)},elementId:function(t){return n.getElementById(t)},elementAll:function(t){return n.querySelectorAll(t)},elementClassname:function(t){return n.getElementsByClassName(t)},elementTagname:function(t){return n.getElementsByTagName(t)},Toggle:{menu:function(t,e,n){var i=t.parentNode,o=function(){for(var n=t.nextElementSibling.firstElementChild;n.firstChild;)n.removeChild(n.firstChild);"function"==typeof e&&e(n)},r=function(t){i.contains(t.target)||s()},s=function(){i.classList.remove("active"),document.body.removeEventListener(a.config.Handler,r),"function"==typeof n&&n()};i.classList.contains("active")&&o(),t.eventClick(function(t){i.toggleClass("active",function(){document.body.addEventListener(a.config.Handler,r),o()},function(){s()})})},dialog:function(t,e){if(a.hasOwnProperty("dialog")&&a.dialog.hasOwnProperty("container")){var n=a.dialog.container(),i=n.firstElementChild,o=function(){n.styleDisplay("none").removeClick(s)},r=function(){"function"==typeof e&&e(n).then(o)},s=function(t){var e=t.target;i.contains(e)&&(e.classList.contains("okey")?r():e.classList.contains("cancel")&&o())};!function(){var e=i.firstElementChild.emptyElement();"function"==typeof t&&t(e)}(),n.styleDisplay("block").eventClick(s)}},nav:function(t,e,n){if(a.hasOwnProperty("nav")&&a.nav.hasOwnProperty("container")){var i=a.localStorage.name.query.page,o=a.nav.container(),r=o.firstElementChild,s=r.firstElementChild,c=s.nextElementSibling,u=function(){var t=c.firstElementChild;if(t){var n=t.querySelector("li.active");n&&n.getAttribute("id")!=i&&(n.classList.remove("active"),t.querySelector("#"+i).classList.add("active"))}else t=c.appendChild(document.createElement("ul")),a.config.page.each(function(e,n){var i=document.createElement("li"),o=document.createElement("p"),r=document.createElement("a");r.setAttribute("href","#page?".replace(/page/,e));var s=a.nav.hasOwnProperty("pageName")?a.nav.pageName(e):e;r.classList.add(n.class),r.setAttribute("data-title",s),i.setAttribute("id",e),i.setAttribute("title",s),a.localStorage.name.query.page==e&&i.classList.add("active"),o.appendChild(r),i.appendChild(o),t.appendChild(i)});"function"==typeof e&&e(o)},f=function(e){r.contains(e.target)||e.target==t||l(),e.stopPropagation()},l=function(){r.setAttribute("class","slide-out"),c.emptyElement(),"function"==typeof n&&n(o),document.body.classList.contains("nav")||document.body.removeClick(f),o.styleDisplay("none")};return o.styleDisplay()&&u(),t.eventClick(function(t){o.toggleDisplay(function(){r.setAttribute("class","slide-in"),u(),document.body.classList.contains("nav")||document.body.eventClick(f)},function(){l()}),t.stopPropagation()},!1),o}},header:function(t,e,n){if(a.hasOwnProperty("header")&&a.header.hasOwnProperty("container")){var i=a.header.container(),o=i.firstElementChild,r=o.lastElementChild,s=r.firstElementChild,c=r.querySelector("ul."+a.localStorage.name.query.page),u=r.querySelector("ul.active");return new Promise(function(t,e){c?!0!==c.classList.contains("active")?(u&&u.classList.remove("active"),c.classList.add("active"),t()):e():!0!==s.classList.contains("active")?(s!=u&&u&&u.classList.remove("active"),s.classList.add("active"),t()):e()}).then(function(){return!0},function(){return!1})}},main:function(t){if(a.hasOwnProperty("main")&&a.main.hasOwnProperty("container")){var e=a.main.container(),n="div.active",i=e.querySelector(n),o=e.querySelector(n.replace("active",a.localStorage.name.query.page));return o?o.classList.contains("active")||o.classList.add("active"):(o=e.firstElementChild,o.classList.contains("active")||o.classList.add("active")),i&&o!=i&&i.classList.remove("active"),t&&o.emptyElement(),o}},footer:function(t,e,n){}}};e.scriptive=function(t){return new r.i0(t)}}(0,window,document);